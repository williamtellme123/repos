<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<body>
<div class="container">
    <div class="show-header">
        <div class="show-header-left">Mind Map</div>
        <div class="show-header-right"><a href="http://www.decembercafe.org/">DecemberCafe Studio</a><br>2017.3.4</div>
    </div>
    <div class="showcase">
        <svg height="600" id="mindmap-svg" width="1300">
            <g class="gmind" transform="translate(0,0)scale(1)">
                <g class="glink" transform="translate(650,300)">
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M0,0L33.807906820971546,-115.13915683373969"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M0,0L90.689948922511,-78.58328807343422"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M0,0L113.40009824576022,-39.2481555980906"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M0,0L119.86408070196096,5.709829898849059"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M0,0L109.15583944254222,49.849801560226354"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M0,0L82.80948137785349,86.84808457260839"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M0,0L44.59949467923935,111.40415196192869"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M0,0L7.34788079488412e-15,120"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M0,0L-44.599494679239285,111.40415196192872"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M0,0L-82.80948137785342,86.84808457260844"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M0,0L-109.15583944254219,49.8498015602264"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M0,0L-118.77857302571194,-17.077780592794195"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M0,0L-90.68994892251108,-78.58328807343412"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M0,0L-33.80790682097167,-115.13915683373966"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M33.807906820971546,-115.13915683373969L45.42029864649845,-235.66288734304962"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M33.807906820971546,-115.13915683373969L89.1989893584786,-222.8083039238574"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M90.689948922511,-78.58328807343422L165.6189627557069,-173.69616914521683"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M90.689948922511,-78.58328807343422L195.49822849208059,-139.2136582970876"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M82.80948137785349,86.84808457260839L181.37989784502201,157.1665761468684"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M82.80948137785349,86.84808457260839L148.3581566929453,188.65274273826896"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M-109.15583944254219,49.8498015602264L-207.8460969082652,120.00000000000016"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M-109.15583944254219,49.8498015602264L-226.80019649152038,78.49631119618135"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M-118.77857302571194,-17.077780592794195L-239.72816140392192,-11.419659797697971"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M-118.77857302571194,-17.077780592794195L-233.23477639765002,-56.58214452226241"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M-90.68994892251108,-78.58328807343412L-195.49822849208064,-139.21365829708745"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M-90.68994892251108,-78.58328807343412L-165.61896275570706,-173.69616914521666"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M-33.80790682097167,-115.13915683373966L-89.19898935847893,-222.8083039238573"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M-33.80790682097167,-115.13915683373966L-45.42029864649854,-235.6628873430496"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M165.6189627557069,-173.69616914521683L194.63069428401516,-302.8512718192252"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M165.6189627557069,-173.69616914521683L231.40353948715418,-275.7759995228321"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M165.6189627557069,-173.69616914521683L264.453015116712,-244.2633881605676"></path>
                    <path class="link" fill="none" stroke="rgba(20,20,20,0.2)" stroke-width="1" opacity="1"
                          d="M165.6189627557069,-173.69616914521683L293.24734273812084,-208.8204874456314"></path>
                </g>
                <g class="gnode" transform="translate(650,300)">
                    <g class="node" transform="translate(0,0)">
                        <circle r="13"
                                style="fill: rgb(255, 255, 255); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="13"
                              style="fill-opacity: 0;">FFFFFF
                        </text>
                    </g>
                    <g class="node" transform="translate(33.80790710449219, -115.13916015625)" style="cursor: pointer;">
                        <circle r="13"
                                style="fill: rgb(255, 70, 0); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="13"
                              style="fill-opacity: 0;">FF4600
                        </text>
                    </g>
                    <g class="node" transform="translate(90.68994903564453, -78.58329010009766)"
                       style="cursor: pointer;">
                        <circle r="13"
                                style="fill: rgb(255, 209, 0); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="13"
                              style="fill-opacity: 0;">FFD100
                        </text>
                    </g>
                    <g class="node" transform="translate(113.40010070800781, -39.2481575012207)">
                        <circle r="13"
                                style="fill: rgb(209, 255, 0); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="13"
                              style="fill-opacity: 0;">D1FF00
                        </text>
                    </g>
                    <g class="node" transform="translate(119.86408233642578, 5.709829807281494)">
                        <circle r="13"
                                style="fill: rgb(116, 255, 0); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="13"
                              style="fill-opacity: 0;">74FF00
                        </text>
                    </g>
                    <g class="node" transform="translate(109.15583801269531, 49.84980010986328)">
                        <circle r="13"
                                style="fill: rgb(23, 255, 0); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="13"
                              style="fill-opacity: 0;">17FF00
                        </text>
                    </g>
                    <g class="node" transform="translate(82.80947875976562, 86.84808349609375)">
                        <circle r="13"
                                style="fill: rgb(0, 255, 70); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="13"
                              style="fill-opacity: 0;">00FF46
                        </text>
                    </g>
                    <g class="node" transform="translate(44.59949493408203, 111.4041519165039)">
                        <circle r="13"
                                style="fill: rgb(0, 255, 162); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="13"
                              style="fill-opacity: 0;">00FFA2
                        </text>
                    </g>
                    <g class="node" transform="translate(7.347880374357178e-15, 120)">
                        <circle r="13"
                                style="fill: rgb(0, 255, 255); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="13"
                              style="fill-opacity: 0;">00FFFF
                        </text>
                    </g>
                    <g class="node" transform="translate(-44.59949493408203, 111.4041519165039)">
                        <circle r="13"
                                style="fill: rgb(0, 162, 255); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="13"
                              style="fill-opacity: 0;">00A2FF
                        </text>
                    </g>
                    <g class="node" transform="translate(-82.80947875976562, 86.84808349609375)">
                        <circle r="13"
                                style="fill: rgb(0, 70, 255); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="13"
                              style="fill-opacity: 0;">0046FF
                        </text>
                    </g>
                    <g class="node" transform="translate(-109.15583801269531, 49.84980010986328)">
                        <circle r="13"
                                style="fill: rgb(23, 0, 255); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="13"
                              style="fill-opacity: 0;">1700FF
                        </text>
                    </g>
                    <g class="node" transform="translate(-118.77857208251953, -17.07777976989746)">
                        <circle r="13"
                                style="fill: rgb(162, 0, 255); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="13"
                              style="fill-opacity: 0;">A200FF
                        </text>
                    </g>
                    <g class="node" transform="translate(-90.68994903564453, -78.58329010009766)">
                        <circle r="13"
                                style="fill: rgb(255, 0, 209); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="13"
                              style="fill-opacity: 0;">FF00D1
                        </text>
                    </g>
                    <g class="node" transform="translate(-33.80790710449219, -115.13916015625)"
                       style="cursor: pointer;">
                        <circle r="13"
                                style="fill: rgb(255, 0, 70); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="13"
                              style="fill-opacity: 0;">FF0046
                        </text>
                    </g>
                    <g class="node" transform="translate(45.4202995300293, -235.6628875732422)">
                        <circle r="11.375"
                                style="fill: rgb(255, 239, 233); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="11.375"
                              style="fill-opacity: 0;">FFEFE9
                        </text>
                    </g>
                    <g class="node" transform="translate(89.19898986816406, -222.8083038330078)">
                        <circle r="11.375"
                                style="fill: rgb(255, 224, 212); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="11.375"
                              style="fill-opacity: 0;">FFE0D4
                        </text>
                    </g>
                    <g class="node" transform="translate(165.61895751953125, -173.6961669921875)">
                        <circle r="11.375"
                                style="fill: rgb(255, 239, 168); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="11.375"
                              style="fill-opacity: 0;">FFEFA8
                        </text>
                    </g>
                    <g class="node" transform="translate(195.49822998046875, -139.21365356445312)"
                       style="cursor: pointer;">
                        <circle r="11.375"
                                style="fill: rgb(255, 235, 147); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="11.375"
                              style="fill-opacity: 0;">FFEB93
                        </text>
                    </g>
                    <g class="node" transform="translate(181.37989807128906, 157.1665802001953)"
                       style="cursor: pointer;">
                        <circle r="11.375"
                                style="fill: rgb(0, 250, 69); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="11.375"
                              style="fill-opacity: 0;">00FA45
                        </text>
                    </g>
                    <g class="node" transform="translate(148.358154296875, 188.65274047851562)">
                        <circle r="11.375"
                                style="fill: rgb(0, 229, 63); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="11.375"
                              style="fill-opacity: 0;">00E53F
                        </text>
                    </g>
                    <g class="node" transform="translate(-207.84609985351562, 120)">
                        <circle r="11.375"
                                style="fill: rgb(38, 17, 255); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="11.375"
                              style="fill-opacity: 0;">2611FF
                        </text>
                    </g>
                    <g class="node" transform="translate(-226.80020141601562, 78.4963150024414)">
                        <circle r="11.375"
                                style="fill: rgb(58, 39, 255); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="11.375"
                              style="fill-opacity: 0;">3A27FF
                        </text>
                    </g>
                    <g class="node" transform="translate(-239.72816467285156, -11.419659614562988)">
                        <circle r="11.375"
                                style="fill: rgb(192, 82, 255); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="11.375"
                              style="fill-opacity: 0;">C052FF
                        </text>
                    </g>
                    <g class="node" transform="translate(-233.23477172851562, -56.58214569091797)">
                        <circle r="11.375"
                                style="fill: rgb(200, 104, 255); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="11.375"
                              style="fill-opacity: 0;">C868FF
                        </text>
                    </g>
                    <g class="node" transform="translate(-195.49822998046875, -139.21365356445312)">
                        <circle r="11.375"
                                style="fill: rgb(255, 147, 235); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="11.375"
                              style="fill-opacity: 0;">FF93EB
                        </text>
                    </g>
                    <g class="node" transform="translate(-165.61895751953125, -173.6961669921875)">
                        <circle r="11.375"
                                style="fill: rgb(255, 168, 239); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="11.375"
                              style="fill-opacity: 0;">FFA8EF
                        </text>
                    </g>
                    <g class="node" transform="translate(-89.19898986816406, -222.8083038330078)"
                       style="cursor: pointer;">
                        <circle r="11.375"
                                style="fill: rgb(255, 212, 224); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="11.375"
                              style="fill-opacity: 0;">FFD4E0
                        </text>
                    </g>
                    <g class="node" transform="translate(-45.4202995300293, -235.6628875732422)"
                       style="cursor: pointer;">
                        <circle r="11.375"
                                style="fill: rgb(255, 233, 239); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="11.375"
                              style="fill-opacity: 0;">FFE9EF
                        </text>
                    </g>
                    <g class="node" transform="translate(194.6306915283203, -302.85125732421875)">
                        <circle r="9.75"
                                style="fill: rgb(255, 243, 190); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="9.75"
                              style="fill-opacity: 0;">FFF3BE
                        </text>
                    </g>
                    <g class="node" transform="translate(231.40353393554688, -275.7760009765625)">
                        <circle r="9.75"
                                style="fill: rgb(255, 240, 176); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="9.75"
                              style="fill-opacity: 0;">FFF0B0
                        </text>
                    </g>
                    <g class="node" transform="translate(264.4530029296875, -244.2633819580078)">
                        <circle r="9.75"
                                style="fill: rgb(255, 238, 161); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="9.75"
                              style="fill-opacity: 0;">FFEEA1
                        </text>
                    </g>
                    <g class="node" transform="translate(293.2473449707031, -208.8204803466797)">
                        <circle r="9.75"
                                style="fill: rgb(255, 235, 147); stroke-width: 2; stroke: black; opacity: 1;"></circle>
                        <text dominant-baseline="text-before-edge" text-anchor="middle" font-size="12" dy="9.75"
                              style="fill-opacity: 0;">FFEB93
                        </text>
                    </g>
                </g>
            </g>
            <g class="gbutton" transform="translate(20,40)">
                <rect x="0" y="0" width="112" height="28" rx="5" ry="5" fill="purple" stroke="black"
                      stroke-width="0.5"></rect>
                <text dx="11.200000000000001" dy="19.040000000000003" fill="white" font-size="12">Save on Server</text>
            </g>
            <g class="gstatus" transform="translate(35,88)">
                <text fill="black" font-size="12" style="fill-opacity: 0;">Successful !</text>
            </g>
        </svg>
    </div>
    <div class="container_info">
        <div class="show-info"><h2>关于图</h2>
            <p>这个图是为了演示将图的结构保存在服务器端，从而达到图的多人共享。</p>
            <h2>说明</h2>
            <p>1. 点击“Save On Server”，将思维导图的展开结构保存在服务器上。</p>
            <p>2. 每次请求网页（刷新），都会获取上一个用户保存的图结构。</p>
            <p>3. 所有用户共享一个图，所有用户都可以保存图的结构。</p>
            <h2>开发环境</h2>
            <ul>
                <li>FrontEnd: D3 v4.x, HTML5, JavaScript</li>
                <li>BackEnd: Node.js</li>
            </ul>
            <h2>版权声明</h2>
            <p>本作品版权属于<a href="http://www.decembercafe.org/" class="link_studio">十二月咖啡馆工作室</a>所有。未经许可，严禁转载或用于商业用途。</p>
        </div>
        <div class="show-footer">Copyright(c) 2014-2017 <a href="http://www.decembercafe.org/">DecemberCafe Studio</a>.
            All Rights Reserved.
        </div>
    </div>
    <script async="" src="https://www.google-analytics.com/analytics.js"></script>
    <script src="js/jquery-3.1.1.min.js"></script>
    <script src="https://d3js.org/d3.v4.js"></script>
    <script>function MindMap() {
        function t() {
            r(), a([0, 0]), e()
        }

        function e() {
            var t = u.select(".gbutton");
            t.empty() && (t = u.append("g").attr("class", "gbutton")), t.attr("transform", "translate(20,40)");
            var e = u.select(".gstatus");
            e.empty() && (e = u.append("g").attr("class", "gstatus")), e.attr("transform", "translate(35,88)"), e.append("text").attr("fill", "black").attr("font-size", 12).text("Successful !").style("fill-opacity", 0);
            t.append("rect").attr("x", 0).attr("y", 0).attr("width", 112).attr("height", 28).attr("rx", 5).attr("ry", 5).attr("fill", "purple").attr("stroke", "black").attr("stroke-width", .5), t.append("text").attr("dx", 112 * .1).attr("dy", 28 * .68).attr("fill", "white").attr("font-size", 12).text("Save on Server"), t.on("mouseover", function () {
                t.select("rect").attr("fill", "yellow"), t.select("text").attr("fill", "purple"), t.style("cursor", "pointer")
            }).on("mouseout", function () {
                t.select("rect").attr("fill", "purple"), t.select("text").attr("fill", "white")
            }).on("mousedown", function () {
                $.post("http://210.140.42.149:3000/save", p, function (t, r) {
                    "success" == r ? e.select("text").text("Successful !").style("fill-opacity", 1).transition().duration(1e3).style("fill-opacity", 0) : e.select("text").text("Failed !").style("fill-opacity", 1).transition().duration(1e3).style("fill-opacity", 0)
                })
            })
        }

        function r() {
            x = d3.tree().size([360, 120]).separation(function (t, e) {
                return (t.parent == e.parent ? 1 : 2) / t.depth
            }), g = d3.hierarchy(p), g.descendants().forEach(function (t, e) {
                t.data.closed = "true" == t.data.closed, t.data.closed && i(t)
            }), m = u.select(".gmind"), m.empty() && (m = u.append("g").attr("class", "gmind")), v = m.select(".glink"), v.empty() && (v = m.append("g").attr("class", "glink")), k = m.select(".gnode"), k.empty() && (k = m.append("g").attr("class", "gnode")), v.attr("transform", "translate(" + d / 2 + "," + f / 2 + ")"), k.attr("transform", "translate(" + d / 2 + "," + f / 2 + ")");
            var t = d3.zoom().scaleExtent([.7, 2]).translateExtent([[-.7 * d, -.7 * f], [1.7 * d, 1.7 * f]]).on("zoom", function () {
                var t = "scale(" + d3.event.transform.k + ")", e = "translate(" + d3.event.transform.x + "," + d3.event.transform.y + ")";
                m.attr("transform", e + t)
            });
            u.call(t)
        }

        function n(t, e) {
            var r = (t - 90) / 180 * Math.PI, n = e;
            return [n * Math.cos(r), n * Math.sin(r)]
        }

        function a(t) {
            x(g), y = g.descendants(), h = g.links(), y.forEach(function (t) {
                t.y = 120 * t.depth, t.pos = n(t.x, t.y)
            });
            for (var e = 0; e < y.length; e++)y[e].id || (y[e].id = b, b++);
            for (var e = 0; e < h.length; e++)h[e].id || (h[e].id = M, M++);
            var r = d3.scaleLinear().domain([0, 180, 360]).range([1, .3, 1]), o = d3.scaleLinear().domain([0, 1, 5, 10]).range([13, 13, 6.5, 6.5]), c = k.selectAll(".node").data(y, function (t) {
                return t.id
            }), u = c.enter(), d = c.exit(), f = u.append("g").attr("class", "node").attr("transform", function (e) {
                return "translate(" + t[0] + "," + t[1] + ")"
            }).on("mousedown", function (t) {
                d3.event.defaultPrevented || (i(t), a(t.prevPos))
            }).on("mouseover", function (t) {
                d3.select(this).style("cursor", "pointer").select("text").style("fill-opacity", 1)
            }).on("mouseout", function (t) {
                d3.select(this).select("text").transition(600).style("fill-opacity", 0)
            });
            f.append("circle").attr("r", 0).style("fill", function (t) {
                var e = "";
                return t.depth > 1 ? (e = d3.hsl(t.parent.color), e = e.brighter(.5), e.l = r(t.x)) : e = t.depth > 0 ? d3.hsl(t.x, 1, .5) : "#FFFFFF", t.color = e + "", t.color + ""
            }).style("stroke-width", 2).style("stroke", "black").style("opacity", 0), f.append("text").attr("dominant-baseline", "text-before-edge").attr("text-anchor", "middle").attr("font-size", 12).attr("dy", 13).text(function (t) {
                var e = d3.rgb(t.color);
                return l(e.r, e.g, e.b)
            }).style("fill-opacity", 0);
            var p = f.merge(c).transition().duration(600).attr("transform", function (t) {
                return "translate(" + t.pos[0] + "," + t.pos[1] + ")"
            });
            p.select("circle").attr("r", function (t) {
                return o(t.depth)
            }).style("opacity", 1), p.select("text").attr("dy", function (t) {
                return o(t.depth)
            }).style("fill-opacity", 0);
            var m = d.transition().duration(600).attr("transform", function (e) {
                return "translate(" + t[0] + "," + t[1] + ")"
            }).remove();
            m.select("circle").style("opacity", 0).attr("r", 0), m.select("text").style("fill-opacity", 0);
            var w = v.selectAll(".link").data(h, function (t) {
                return t.target.id
            }), F = w.enter(), z = w.exit();
            F.append("path").attr("class", "link").attr("fill", "none").attr("stroke", "rgba(20,20,20,0.2)").attr("stroke-width", 1).attr("opacity", 0).attr("d", function (e) {
                var r = {x: t[0], y: t[1]};
                return s({source: r, target: r})
            }).merge(w).transition().duration(600).attr("opacity", 1).attr("d", function (t) {
                var e = {x: t.source.pos[0], y: t.source.pos[1]}, r = {x: t.target.pos[0], y: t.target.pos[1]};
                return "M" + e.x + "," + e.y + "L" + r.x + "," + r.y
            }), z.transition().duration(600).attr("opacity", 0).attr("d", function (e) {
                var r = {x: t[0], y: t[1]}, n = {x: t[0], y: t[1]};
                return "M" + r.x + "," + r.y + "L" + n.x + "," + n.y
            }).remove(), y.forEach(function (t) {
                t.prevPos = [t.pos[0], t.pos[1]]
            })
        }

        function o() {
        }

        function s(t) {
            return "M" + t.source.x + "," + t.source.y + "C" + (t.source.x + t.target.x) / 2 + "," + t.source.y + " " + (t.source.x + t.target.x) / 2 + "," + t.target.y + " " + t.target.x + "," + t.target.y
        }

        function i(t) {
            t.children ? (t._children = t.children, t.children = null, t.data.closed = !0) : (t.children = t._children, t._children = null, t.data.closed = !1)
        }

        function l(t, e, r) {
            return c(t) + c(e) + c(r)
        }

        function c(t) {
            return t = parseInt(t, 10), isNaN(t) ? "00" : (t = Math.max(0, Math.min(t, 255)), "0123456789ABCDEF".charAt((t - t % 16) / 16) + "0123456789ABCDEF".charAt(t % 16))
        }

        var u, d, f, p, y, h, x, g, m, v, k, b = 0, M = 0;
        this.svg = function (t) {
            if (arguments.length < 1)return u;
            u = t
        }, this.data = function (t) {
            if (arguments.length < 1)return p;
            p = t
        }, this.size = function (t, e) {
            if (arguments.length < 2)return [d, f];
            d = t, f = e
        }, this.getRoot = function () {
            return g
        }, this.render = t, this.update = o
    }</script>
    <script>!function () {
        var n = d3.select("#mindmap-svg"), t = n.attr("width"), a = n.attr("height"), d = new MindMap;
        d.svg(n), d.size(t, a), d3.json("http://210.140.42.149:3000/graph.json", function (n, t) {
            n ? d3.json("./graph.json", function (n, t) {
                if (n)throw n;
                d.data(t), d.render()
            }) : (d.data(t), d.render())
        })
    }()</script>
    <script>!function (e, t, a, n, c, s, o) {
        e.GoogleAnalyticsObject = c, e[c] = e[c] || function () {
                    (e[c].q = e[c].q || []).push(arguments)
                }, e[c].l = 1 * new Date, s = t.createElement(a), o = t.getElementsByTagName(a)[0], s.async = 1, s.src = "https://www.google-analytics.com/analytics.js", o.parentNode.insertBefore(s, o)
    }(window, document, "script", "https://www.google-analytics.com/analytics.js", "ga"), ga("create", "UA-83541150-1", "auto"), ga("send", "pageview")</script>
</div>
</body>
</body>
</html>



